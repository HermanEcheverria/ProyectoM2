# Identidad del proyecto en Sonar (un key por rama)
sonar.projectKey=proyecto-m2-${env.BRANCH_NAME}
sonar.projectName=ProyectoM2 (${env.BRANCH_NAME})
sonar.sourceEncoding=UTF-8

# CÃ³digo a analizar (Java del backend + frontend en ./src)
sonar.sources=backend/src/main/java,src

# Tests (Java + frontend con patrones .spec/.test)
sonar.tests=backend/src/test/java,src
sonar.test.inclusions=backend/src/test/java/**/*.java,src/**/*.{spec,test}.{js,jsx,ts,tsx}

# Excluir artefactos y que los tests del front no cuenten como fuentes
sonar.exclusions=**/target/**,**/node_modules/**,**/dist/**,**/build/**,src/**/*.{spec,test}.{js,jsx,ts,tsx}

# Java / JaCoCo
sonar.java.binaries=backend/target/classes
sonar.coverage.jacoco.xmlReportPaths=backend/target/site/jacoco/jacoco.xml

# Cobertura del front en lcov:
sonar.javascript.lcov.reportPaths=src/coverage/lcov.info
sonar.typescript.lcov.reportPaths=src/coverage/lcov.info
